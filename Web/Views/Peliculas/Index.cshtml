@model List<Web.Models.PeliculasModel>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

<form asp-action="buscarPelicula" method="get">
    <input type="text" name="buscar" id="buscar" /> <button type="submit"> Buscar </button>
</form>


<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    
   @{
          for (int i = 0; i < Model.Count(); i++)
          {
                if(i == 0)
                {
                            <li data-target="#carouselExampleIndicators"  class="active" data-slide-to="@i"></li>
                }
                else
                {
                            <li data-target="#carouselExampleIndicators" data-slide-to="@i"></li>   
                }                                                      
          }
          
      }       
  </ol>
  <div class="carousel-inner">             
        @{
              for (int i = 0; i < Model.Count(); i++)
              {
                    if(i == 0)
                    {
                                <div class="carousel-item active">
                                    <img class="d-block w-100" src="@Model[i].Portada" alt="@Model[i].Nombre">
                                </div>
                                <div class="carousel-caption d-none d-md-block">
                                    <h5>@Model[i].Nombre</h5>
                                    @if(!string.IsNullOrEmpty(@Model[i].Descripcion))
                            {
                                if(Model[i].Descripcion.Length > 20)
                                {
                                        <p>@Model[i].Descripcion.Substring(0,20)</p>
                                }
                                else
                                {
                                            <p>@Model[i].Descripcion</p>  
                                }
                            }
                                
                                </div>
                    }
                    else
                    {
                                <div class="carousel-item">
                                    <img class="d-block w-100" src="@Model[i].Portada" alt="@Model[i].Nombre">
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5>@Model[i].Nombre</h5>
                                        @if(@Model[i].Descripcion!= null)
                                {
                                            <p>@Model[i].Descripcion...</p>
                                }                        
                                    </div>
                                </div> 
                    }                                                      
              }          
      }                        
  </div>

  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<script>   
</script>